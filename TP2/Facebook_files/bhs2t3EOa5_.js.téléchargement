if (self.CavalryLogger) { CavalryLogger.start_js(["HYh6gi7"]); }

__d("GroupsCometJoinForumButton_action$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null};return{kind:"SplitOperation",metadata:{},name:"GroupsCometJoinForumButton_action$normalization",selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"group",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"GroupJoinFriction",kind:"LinkedField",name:"integrity_join_friction",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"GroupActorsEligibleToJoinConnection",kind:"LinkedField",name:"actors_eligible_to_join",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"max",value:2}],kind:"ScalarField",name:"count_up_to",storageKey:"count_up_to(max:2)"}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"action_intervention_view_model",plural:!1,selections:[b],storageKey:null},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"if_viewer_can_request_to_participate_on_join_in_forum",plural:!1,selections:[b,a],storageKey:null}],storageKey:null}]}}();e.exports=a}),null);
__d("GroupsCometJoinForumButton_action.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"GroupsCometJoinForumButton_action",selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"group",plural:!1,selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},action:"THROW",path:"group.id"},{args:null,kind:"FragmentSpread",name:"useGroupsCometJoinForumAction_group"}],storageKey:null},action:"THROW",path:"group"}],type:"GroupJoinForumAction",abstractKey:null};e.exports=a}),null);
__d("useGroupsCometJoinForumAction_group.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGroupsCometJoinForumAction_group",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"GroupJoinFriction",kind:"LinkedField",name:"integrity_join_friction",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"GroupActorsEligibleToJoinConnection",kind:"LinkedField",name:"actors_eligible_to_join",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"max",value:2}],kind:"ScalarField",name:"count_up_to",storageKey:"count_up_to(max:2)"}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"action_intervention_view_model",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"if_viewer_can_request_to_participate_on_join_in_forum",plural:!1,selections:a,storageKey:null}],type:"Group",abstractKey:null}}();e.exports=a}),null);
__d("GroupsCometRequestToParticipateOnJoinDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4513075978785167"}),null);
__d("GroupsCometRequestToParticipateOnJoinDialogQuery$Parameters",["GroupsCometRequestToParticipateOnJoinDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("GroupsCometRequestToParticipateOnJoinDialogQuery_facebookRelayOperation"),metadata:{},name:"GroupsCometRequestToParticipateOnJoinDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("GroupsCometRequestToParticipateOnJoinDialog.entrypoint",["GroupsCometRequestToParticipateOnJoinDialogQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var b=a.actorID;a=a.groupID;return{queries:{queryReference:{environmentProviderOptions:{actorID:b},parameters:c("GroupsCometRequestToParticipateOnJoinDialogQuery$Parameters"),variables:{groupID:a,scale:d("WebPixelRatio").get()}}}}},root:c("JSResourceForInteraction")("GroupsCometRequestToParticipateOnJoinDialog.react").__setRef("GroupsCometRequestToParticipateOnJoinDialog.entrypoint")};g["default"]=a}),98);
__d("useGroupsCometJoinForumAction",["fbt","Actor","CometRelay","GroupsCometIntegrityInformUtils","GroupsCometIntegrityJoinFrictionDialog.entrypoint","GroupsCometPageSelfJoinDialog.entrypoint","GroupsCometRequestToParticipateOnJoinDialog.entrypoint","InterventionDialog.entrypoint","JSResourceForInteraction","cometPushToast","emptyFunction","react","requireDeferred","useCometEntryPointDialog","useCometLazyDialog","useGroupActorJoinRequestMutation","useGroupsCometJoinForumAction_group.graphql","useNullthrowsViolation"],(function(a,b,c,d,e,f,g,h){"use strict";var i;e=d("react");var j=e.useCallback,k=e.useState,l=c("requireDeferred")("GroupCometJoinForumMutation").__setRef("useGroupsCometJoinForumAction"),m=c("requireDeferred")("SilenceableErrorMessageUtils").__setRef("useGroupsCometJoinForumAction"),n=c("JSResourceForInteraction")("GroupsCometFeatureLimitErrorDialog.react").__setRef("useGroupsCometJoinForumAction");function a(a,e,f,g,o){f===void 0&&(f=c("emptyFunction"));g===void 0&&(g=c("emptyFunction"));o===void 0&&(o=null);var p=d("CometRelay").useFragment(i!==void 0?i:i=b("useGroupsCometJoinForumAction_group.graphql"),a),q=c("useNullthrowsViolation")(p==null?void 0:p.id),r=c("useNullthrowsViolation")(p==null?void 0:p.name);a=p==null?void 0:(a=p.actors_eligible_to_join)==null?void 0:a.count_up_to;var s=a!=null&&a>1,t=(p==null?void 0:p.if_viewer_can_request_to_participate_on_join_in_forum)!=null;a=d("Actor").useActor();var u=a[0],v=d("CometRelay").useRelayEnvironment();a=k(!1);var w=a[0],x=a[1];a=c("useCometLazyDialog")(n);var y=a[0];a=c("useCometEntryPointDialog")(c("GroupsCometIntegrityJoinFrictionDialog.entrypoint"),{actorID:u,groupID:q});var z=a[0];a=c("useCometEntryPointDialog")(c("GroupsCometPageSelfJoinDialog.entrypoint"),{groupID:q});var A=a[0];a=c("useCometEntryPointDialog")(c("InterventionDialog.entrypoint"),{actionType:"JOIN",entityID:q});var B=a[0],C=j(function(){return d("cometPushToast").cometPushSimpleToast(h._(/*FBT_CALL*/"Vous avez rejoint {group_name}."/*FBT_CALL*/,[h._param("group_name",r)]))},[r]),D=function(){return d("cometPushToast").cometPushErrorToast({message:h._(/*FBT_CALL*/"Un probl\u00e8me est survenu lors de l\u2019inscription. Veuillez r\u00e9essayer plus tard."/*FBT_CALL*/)})};function E(a){m.onReady(function(b){var c=b.getMetadataFromError;b=b.shouldHideErrorMessage;x(!1);D();f();var d=Array.isArray(a)?a==null?void 0:a[0]:a;if(b(c(d)))return;y({error:a,onClose:function(){}})})}a=c("useCometEntryPointDialog")(c("GroupsCometRequestToParticipateOnJoinDialog.entrypoint"),{actorID:u,groupID:q});var F=a[0],G=j(function(){l.onReady(function(a){a(v,q,e,function(){x(!1),C(),g()},function(){x(!1),D(),f()},o)}),t&&F({actorID:u})},[v,u,q,e,g,f,C,o,F,t]),H=c("useGroupActorJoinRequestMutation")(),I=function(){return x(!1)},J=function(){if(s)return A({actorID:u,onCancel:I,onCommitJoinMutation:H,onJoinMutationCompleted:function(a){x(!1),C(),g(a)},onSubmitError:E});G()};a=function(){var a;x(!0);if(c("GroupsCometIntegrityInformUtils").isInformTypeSupported(p==null?void 0:(a=p.integrity_join_friction)==null?void 0:a.type))return z({onConfirm:function(){J()}});if((p==null?void 0:(a=p.action_intervention_view_model)==null?void 0:a.__typename)!=null)return B({onConfirmLike:J,showEntityProfileCTA:e!=="group_mall"});J()};return[a,w]}g["default"]=a}),98);
__d("GroupsCometJoinForumButton.react",["fbt","ix","CometProgressButtonIndeterminate.react","CometRelay","GroupsCometJoinButtonWithMenu.react","GroupsCometJoinForumButton_action.graphql","TetraButton.react","emptyFunction","fbicon","gkx","qex","react","useGroupsCometJoinForumAction"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=d("react"),l=c("gkx")("62"),m=(e=c("qex")._("69"))!=null?e:"none";function a(a){var e=a.action,f=a.isPrimary;f=f===void 0?!1:f;var g=a.groupShareTrackingParams;g=g===void 0?null:g;var n=a.onPressJoin,o=n===void 0?c("emptyFunction"):n;n=a.onRequestToJoinError;var p=n===void 0?c("emptyFunction"):n;n=a.onRequestToJoinSuccess;var q=n===void 0?c("emptyFunction"):n;n=a.reduceEmphasis;n=n===void 0?!1:n;var r=a.source,s=a.useShortenedCTA;s=s===void 0?!1:s;a=a.withMenu;a=a===void 0?!1:a;e=d("CometRelay").useFragment(j!==void 0?j:j=b("GroupsCometJoinForumButton_action.graphql"),e);var t=e.group;e=c("useGroupsCometJoinForumAction")(t,r,function(){return p(t.id)},function(a){return q(t.id,a)},g);var u=e[0];g=e[1];e=r==="gysj"||r==="group_subfeed_page"||r==="live_audio_room_join_group_cta";r=e||l&&r==="group_mall"||m!=="none";r={icon:r?d("fbicon")._(i("943398"),16):void 0,label:s?h._(/*FBT_CALL*/"Rejoindre"/*FBT_CALL*/):h._(/*FBT_CALL*/"Rejoindre le groupe"/*FBT_CALL*/),onPress:function(){o(),u()},reduceEmphasis:n||e,type:f?"primary":"secondary"};if(g)return k.jsx(c("CometProgressButtonIndeterminate.react"),babelHelpers["extends"]({},r));return a?k.jsx(c("GroupsCometJoinButtonWithMenu.react"),{groupID:t.id,primaryButtonConfig:r}):k.jsx(c("TetraButton.react"),babelHelpers["extends"]({},r))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);