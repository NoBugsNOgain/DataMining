if (self.CavalryLogger) { CavalryLogger.start_js(["bqpssDe"]); }

__d("PublicEventCometRSVPButtonRenderer_rsvpStyleRenderer$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},c=[{kind:"Literal",name:"render_location",value:"COMET_EVENTS_RSVP"}],d=[{alias:null,args:[{kind:"Literal",name:"supported",value:"PrivacyScopeEditableRenderer"}],concreteType:null,kind:"LinkedField",name:"privacy_scope_renderer",plural:!1,selections:[b,{alias:null,args:c,concreteType:"PrivacyScope",kind:"LinkedField",name:"privacy_scope_for_location",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"can_viewer_edit",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy_write_id",storageKey:null},{alias:null,args:[{kind:"Variable",name:"scale",variableName:"scale"}],concreteType:"Image",kind:"LinkedField",name:"icon_image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"scale",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null}],storageKey:'privacy_scope_for_location(render_location:"COMET_EVENTS_RSVP")'},a],storageKey:'privacy_scope_renderer(supported:"PrivacyScopeEditableRenderer")'}];return{kind:"SplitOperation",metadata:{},name:"PublicEventCometRSVPButtonRenderer_rsvpStyleRenderer$normalization",selections:[{alias:null,args:null,concreteType:"Event",kind:"LinkedField",name:"event",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"connection_style",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_join",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_watch",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_unwatch",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewer_watch_status",storageKey:null},{alias:null,args:null,concreteType:"Event",kind:"LinkedField",name:"if_viewer_can_see_going_button",plural:!1,selections:[b,a],storageKey:null},{alias:null,args:c,concreteType:"PrivacyScope",kind:"LinkedField",name:"event_connection_data_privacy_scope",plural:!1,selections:d,storageKey:'event_connection_data_privacy_scope(render_location:"COMET_EVENTS_RSVP")'},{alias:"privacy_scope_for_toast",args:c,concreteType:"PrivacyScope",kind:"LinkedField",name:"event_connection_data_privacy_scope",plural:!1,selections:d,storageKey:'event_connection_data_privacy_scope(render_location:"COMET_EVENTS_RSVP")'},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_rsvp_disabled_for_viewer",storageKey:null}]}],storageKey:null}]}}();e.exports=a}),null);
__d("PublicEventCometRSVPButtonRenderer_rsvpStyleRenderer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PublicEventCometRSVPButtonRenderer_rsvpStyleRenderer",selections:[{alias:null,args:null,concreteType:"Event",kind:"LinkedField",name:"event",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"PublicEventCometRSVPButton_event"}],storageKey:null}],type:"PublicRsvpStyleRenderer",abstractKey:null};e.exports=a}),null);
__d("PublicEventCometRSVPButton_event.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Literal",name:"render_location",value:"COMET_EVENTS_RSVP"}];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PublicEventCometRSVPButton_event",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"connection_style",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_join",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_watch",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_unwatch",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewer_watch_status",storageKey:null},{args:null,kind:"FragmentSpread",name:"PublicEventCometRSVPMenuBase_event"},{alias:"privacy_scope_for_toast",args:a,concreteType:"PrivacyScope",kind:"LinkedField",name:"event_connection_data_privacy_scope",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"PrivacyScopeEditableRenderer"}],concreteType:null,kind:"LinkedField",name:"privacy_scope_renderer",plural:!1,selections:[{alias:null,args:a,concreteType:"PrivacyScope",kind:"LinkedField",name:"privacy_scope_for_location",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"useEventsRSVPPrivacyToast_scope"}],storageKey:'privacy_scope_for_location(render_location:"COMET_EVENTS_RSVP")'}],storageKey:'privacy_scope_renderer(supported:"PrivacyScopeEditableRenderer")'}],storageKey:'event_connection_data_privacy_scope(render_location:"COMET_EVENTS_RSVP")'},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_rsvp_disabled_for_viewer",storageKey:null}]}],type:"Event",abstractKey:null}}();e.exports=a}),null);
__d("PublicEventCometRSVPButton.react",["ix","CometDeferredPopoverTrigger.react","CometRelay","CometTrackingCodeContext","EventCometActionContext","PublicEventCometRSVPButtonStrings","PublicEventCometRSVPButton_event.graphql","TetraButton.react","TetraCircleButton.react","TetraIcon.react","fbicon","react","requireDeferred","unrecoverableViolation","useEventsRSVPPrivacyToast","useTriggeredStoryCTAHandler"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=d("react");e=d("react");var k=e.useCallback,l=e.useContext,m=c("requireDeferred")("PublicEventCometRSVPMenuBase.react").__setRef("PublicEventCometRSVPButton.react"),n=c("requireDeferred")("PublicEventCometRSVPMutation").__setRef("PublicEventCometRSVPButton.react"),o=i!==void 0?i:i=b("PublicEventCometRSVPButton_event.graphql");function p(a){switch(a){case"GOING":return d("fbicon")._(h("498145"),16);case"WATCHED":return d("fbicon")._(h("479324"),16);default:return d("fbicon")._(h("477813"),16)}}function a(a){var b=a.colorWhenOff,e=a.colorWhenOn,f=a.event,g=a.isUnlabeledRect,i=g===void 0?!1:g;g=a.labelIsHidden;var q=g===void 0?!1:g,r=a.onRSVPChange;g=a.showMenuOnLoad;a=g===void 0?!1:g;var s=d("CometRelay").useRelayEnvironment();g=d("CometRelay").useFragment(o,f);if(g==null)throw c("unrecoverableViolation")("event cannot be null","events");f=g.can_viewer_join;var t=g.can_viewer_unwatch,u=g.can_viewer_watch,v=g.connection_style,w=g.id,x=g.is_rsvp_disabled_for_viewer,y=g.privacy_scope_for_toast,z=g.viewer_watch_status;y=y==null?void 0:(y=y.privacy_scope_renderer)==null?void 0:y.privacy_scope_for_location;y=c("useEventsRSVPPrivacyToast")(y);var A=y[0],B=y[1],C=l(c("EventCometActionContext")),D=l(c("CometTrackingCodeContext"));y=c("useTriggeredStoryCTAHandler")();var E=y[0],F=k(function(a){a==="WATCHED"&&E("EVENT_RSVP"),a!==z&&n.onReady(function(b){b=b.commit;return b(s,w,a,C,D,function(a){r&&r(a),z==="UNWATCHED"&&(B&&B({withAction:!0}))})})},[z,r,B,s,w,C,D,E]);if(v!=="INTERESTED")return null;if(f!==!0&&u!==!0&&t!==!0)return null;var G=z==="WATCHED";y=z==="GOING";if(G||y)return j.jsxs(j.Fragment,{children:[j.jsx(c("CometDeferredPopoverTrigger.react"),{align:"end",popoverProps:{event:g,onPrivacyChange:function(){B&&B({withAction:!1})},onRSVPChange:F},popoverResource:m,visibleOnLoad:a&&x!==!0,children:function(a,b){var f=x===!0;b={disabled:f,icon:p(z),onPress:b,ref:a,testid:"rsvp-button"};a=G?d("PublicEventCometRSVPButtonStrings").Interested(z):d("PublicEventCometRSVPButtonStrings").Going(z);if(!q)return j.jsx(c("TetraButton.react"),babelHelpers["extends"]({},b,{addOnSecondary:j.jsx(c("TetraIcon.react"),{color:x===!0?"disabled":e==="blue"?"highlight":"primary",icon:d("fbicon")._(h("492446"),12)}),label:a,reduceEmphasis:e==="blue",type:e==="blue"?"primary":"secondary"}));else return i?j.jsx("div",{className:"nqs61naz",children:j.jsx(c("TetraButton.react"),babelHelpers["extends"]({},b,{label:a,labelIsHidden:!0,reduceEmphasis:e==="blue",type:e==="blue"?"primary":"secondary"}))}):j.jsx(c("TetraCircleButton.react"),babelHelpers["extends"]({},b,{color:e==="blue"?"highlight":"secondary",label:a,size:36,type:e==="blue"&&!f?"deemphasized-overlay":"normal"}))}}),A]});v={disabled:x===!0||u!==!0,icon:d("fbicon")._(h("479360"),16),label:d("PublicEventCometRSVPButtonStrings").Interested(z),onPress:function(){return F("WATCHED")},testid:"rsvp-button"};if(!q)return j.jsxs(j.Fragment,{children:[j.jsx(c("TetraButton.react"),babelHelpers["extends"]({},v,{reduceEmphasis:b==="blue",type:b==="blue"?"primary":"secondary"})),A]});else return j.jsxs(j.Fragment,{children:[i?j.jsx("div",{className:"nqs61naz",children:j.jsx(c("TetraButton.react"),babelHelpers["extends"]({},v,{labelIsHidden:!0,reduceEmphasis:b==="blue",type:b==="blue"?"primary":"secondary"}))}):j.jsx(c("TetraCircleButton.react"),babelHelpers["extends"]({},v,{color:b==="blue"?"highlight":"secondary",size:36,type:b==="blue"?"deemphasized-overlay":"normal"})),A]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PublicEventCometRSVPButtonRenderer.react",["CometRelay","PublicEventCometRSVPButton.react","PublicEventCometRSVPButtonRenderer_rsvpStyleRenderer.graphql","react","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react"),j=h!==void 0?h:h=b("PublicEventCometRSVPButtonRenderer_rsvpStyleRenderer.graphql");function a(a){var b=a.rsvpStyleRenderer;a=babelHelpers.objectWithoutPropertiesLoose(a,["rsvpStyleRenderer"]);b=d("CometRelay").useFragment(j,b);b=b.event;if(b==null)throw c("unrecoverableViolation")("event cannot be null","events");return i.jsx(c("PublicEventCometRSVPButton.react"),babelHelpers["extends"]({event:b},a))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);